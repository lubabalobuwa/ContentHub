<header class="topbar">
  <div class="topbar-inner">
    <a class="brand" routerLink="/">ContentHub</a>

    <nav class="nav">
      <a class="nav-link" routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">Home</a>

      <ng-container *ngIf="auth.isAuthenticated(); else guest">
        <a class="nav-link" routerLink="/create" routerLinkActive="active">Create</a>

        <div class="profile-menu" [class.open]="isWorkspaceMenuOpen">
          <button class="nav-btn profile-trigger" type="button" (click)="toggleWorkspaceMenu()">
            Workspace
            <span class="chevron">▾</span>
          </button>

          <div class="menu" *ngIf="isWorkspaceMenuOpen">
            <a class="menu-item" routerLink="/drafts" (click)="closeWorkspaceMenu()">Drafts</a>
            <a class="menu-item" routerLink="/published" (click)="closeWorkspaceMenu()">Published</a>
            <a class="menu-item" routerLink="/archived" (click)="closeWorkspaceMenu()">Archived</a>
          </div>
        </div>

        <div class="profile-menu" [class.open]="isProfileMenuOpen">
          <button class="nav-btn profile-trigger" type="button" (click)="toggleProfileMenu()">
            Profile
            <span class="chevron">▾</span>
          </button>

          <div class="menu" *ngIf="isProfileMenuOpen">
            <a class="menu-item" routerLink="/account" (click)="closeProfileMenu()">Account settings</a>
            <button class="menu-item danger" type="button" (click)="logout()">Logout</button>
          </div>
        </div>
      </ng-container>
      <ng-template #guest>
        <a class="nav-link" routerLink="/login" routerLinkActive="active">Login</a>
        <a class="nav-link" routerLink="/register" routerLinkActive="active">Register</a>
      </ng-template>
    </nav>
  </div>
</header>

<main class="main-content">
  <router-outlet></router-outlet>
</main>

<footer class="footer">
  <div class="footer-inner">
    <div>
      <p class="footer-brand">ContentHub</p>
      <p class="footer-muted">A clean, modern publishing space for developers.</p>
    </div>
    <div class="footer-links">
      <a href="#" class="footer-link">About</a>
      <a href="#" class="footer-link">Docs</a>
      <a href="#" class="footer-link">Contact</a>
    </div>
  </div>
</footer>

<button
  class="theme-fab"
  type="button"
  (click)="toggleTheme()"
  [attr.aria-label]="theme === 'dark' ? 'Switch to light theme' : 'Switch to dark theme'"
  title="Toggle theme">
  <span class="theme-icon" aria-hidden="true">
    {{ theme === 'dark' ? '◐' : '☼' }}
  </span>
</button>
